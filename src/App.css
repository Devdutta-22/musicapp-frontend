/* src/App.css â€” Your Full Custom Styles + New Mobile Layout */

/* ---------- Variables & base ---------- */
:root {
  --neon: #40fefc;
  --neon-pink: #ff3bf0;
  --neon-hover: #5ffffb;
  --scroll-thumb: rgba(255,255,255,0.03);
  --scroll-thumb-hover: rgba(255,255,255,0.06);
  --accent-a: #6cf0f0;
  --accent-b: #7a6bff;
  --accent-glow: 0 12px 40px rgba(106,84,255,0.12);
  --bg-primary: #06060b;
  --bg-secondary: #0b0b11;
  --text-primary: #edf0ff;
  --text-secondary: #a9a6bf;
}

html, body, #root {
  height: 100%;
  margin: 0;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: Inter, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  overflow: hidden; /* Fix double scrollbars */
}

/* App shell */
.app-shell {
  display: flex;
  height: 100vh;
  gap: 24px;
  align-items: stretch;
  box-sizing: border-box;
}

/* ------------------ Sidebar / Library ------------------ */
.library {
  width: 400px;
  padding: 20px;
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(255,255,255,0.014), rgba(255,255,255,0.008));
  box-shadow: 0 14px 40px rgba(0,0,0,0.55);
  box-sizing: border-box;
  overflow-y: auto;
  position: relative;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1), min-width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Collapsed State (Desktop) */
.library.collapsed { padding: 12px 6px; }
.library.collapsed .song-item { justify-content: center; padding: 8px 0; background: transparent; }
.library.collapsed .song-list::-webkit-scrollbar { display: none; }
.library.collapsed .song-item:hover { background: rgba(255,255,255,0.05); }

.library h3 { margin: 6px 0 16px; font-weight: 800; font-size: 20px; color: var(--text-primary); }
.library .song-list { display: flex; flex-direction: column; gap: 12px; overflow-y: auto; padding-bottom: 12px; }

/* song row */
.song-item {
  display: flex; align-items: center; gap: 14px; padding: 12px;
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006));
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  cursor: pointer;
}
.song-item:hover {
  transform: translateY(-6px);
  box-shadow: 0 16px 48px rgba(5,3,20,0.6);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
}

.song-item .cover { width: 60px; height: 60px; object-fit: cover; border-radius: 10px; flex: 0 0 60px; box-shadow: 0 8px 26px rgba(0,0,0,0.6); }
.song-info { display: flex; flex-direction: column; min-width: 0; flex: 1 1 auto; overflow: hidden; }
.song-info .title { font-weight:700; font-size:15px; color:var(--text-primary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.song-info .artist { margin-top:6px; font-size:13px; color:var(--text-secondary); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

/* Buttons & Icons */
.like-wrap { display:flex; align-items:center; gap:10px; flex:0 0 auto; margin-right:4px; }
.like-btn { width:0px; height:0px; border-radius:50%; border:4px ; display:inline-flex; align-items:center; justify-content:center; font-size:16px; padding:0; cursor:pointer; box-shadow: 0 3px 16px var(--neon-pink); } 
.like-count { color:var(--text-primary); font-size:13px; min-width:24px; }

/* Standard Icon Button */
.icon-btn {
  display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px; border-radius:8px; border: none;
  background: transparent; color: var(--text-secondary); cursor: pointer;
  transition: transform .12s ease, color .12s ease, background .12s ease;
}
.icon-btn:hover { color: var(--neon); transform: scale(1.06); background: rgba(255,255,255,0.05); }
.icon-btn.active { color: var(--neon-pink); filter: drop-shadow(0 0 12px var(--neon-pink)); }
.icon-btn.liked { color: #ff4d7a; filter: drop-shadow(0 0 10px #ff4d7a); }
.icon-btn.danger:hover { color: #ff4d7a; }

/* Small Text Button */
.small-btn {
  background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.03);
  color: var(--text-primary); padding: 8px 10px; border-radius: 10px;
  cursor: pointer; font-weight: 700; box-shadow: none;
  display: inline-flex; align-items: center; justify-content: center;
}
.small-btn.icon-only { padding: 8px; }
.small-btn:hover { background: rgba(255,255,255,0.05); border-color: rgba(255,255,255,0.1); }

/* Search Input */
.search-input {
  flex: 1; padding: 8px 10px; border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.1);
  background: rgba(0,0,0,0.3); color: var(--text-primary);
}

/* ------------------ Player area (center) ------------------ */
.player-area { flex: 1; padding: 32px; box-sizing: border-box; display: flex; flex-direction: column; overflow-y: auto; }
.content-split { display:flex; width:100%; height:100%; gap:40px; padding:20px 40px; box-sizing:border-box; align-items:flex-start; }
.nowplaying-left, .lyrics-right { flex:1 1 0%; min-width:0; }

/* Glow & Cover */
.glow-container { position: relative; width: 100%; max-width: 320px; aspect-ratio: 1/1; margin: 0 auto 24px auto; }
.glow-bg { position: absolute; top: 10%; left: 0; width: 100%; height: 100%; filter: blur(45px) saturate(250%); opacity: 0.6; z-index: 0; transform: scale(0.95); border-radius: 30px; }
.real-cover { position: relative; z-index: 1; width: 100%; height: 100%; border-radius: 16px; object-fit: cover; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }

.big-text { text-align: center; margin-top: 6px; }
.big-title { font-size: 32px; font-weight: 800; color: var(--text-primary); }
.big-artist { font-size: 18px; color: var(--text-secondary); }

/* Play/Pause Button (Neon) */
.play-btn {
  width:60px; height:60px; border-radius:50%; border:2px solid var(--neon);
  background: transparent; color: var(--neon); display:flex; align-items:center; justify-content:center;
  cursor:pointer; box-shadow: 0 4px 18px rgba(64,254,252,0.08);
  transition: transform .18s ease, border-color .12s ease, color .12s ease, box-shadow .12s ease;
}
.play-btn:hover { transform: scale(1.08); border-color: var(--neon-hover); color: var(--neon-hover); box-shadow: 0 10px 40px rgba(64,254,252,0.14); }
.play-btn[aria-pressed="true"] { animation: neonPulse 1.8s infinite ease-in-out; }

/* Pulse Animation */
@keyframes neonPulse {
  0% { box-shadow: 0 6px 20px rgba(64,254,252,0.06); }
  50% { box-shadow: 0 12px 34px rgba(64,254,252,0.10), 0 0 18px rgba(64,254,252,0.06); }
  100% { box-shadow: 0 6px 20px rgba(64,254,252,0.06); }
}

/* Slider */
.slider-row { width: 100%; display: flex; align-items: center; gap: 12px; margin-top: 10px; }
.neon-range { -webkit-appearance: none; width: 100%; height: 6px; border-radius: 6px; background: rgba(255, 255, 255, 0.1); outline: none; cursor: pointer; }
.neon-range::-webkit-slider-thumb { -webkit-appearance: none; width: 14px; height: 14px; border-radius: 50%; background: var(--neon); box-shadow: 0 0 10px var(--neon); cursor: pointer; margin-top: -4px; }

/* Queue Panel */
.queue-panel { margin-top:22px; width:100%; background: rgba(255,255,255,0.02); border-radius:12px; padding:12px; border: 1px solid rgba(255,255,255,0.02); }
.queue-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.queue-controls { display:flex; gap:8px; align-items:center; }
.queue-item { display:flex; justify-content:space-between; align-items:center; gap:12px; padding:8px; border-radius:10px; transition: background .12s ease; }
.queue-item:hover { background: rgba(255,255,255,0.02); }
.queue-item.current { background: rgba(64,254,252,0.04); }
.q-left { display:flex; align-items:center; gap:10px; min-width:0; }
.q-cover { width:56px; height:56px; object-fit:cover; border-radius:8px; }
.q-meta { min-width:0; overflow:hidden; }
.q-title { font-weight:700; color:var(--text-primary); font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.q-artist { font-size:12px; color:var(--text-secondary); margin-top:4px; }
.q-actions { display:flex; align-items:center; gap:6px; }

/* Lyrics */
.lyrics-right { flex:1; padding-top:20px; display:flex; flex-direction:column; }
.lyrics-heading { font-size:24px; font-weight:700; color:var(--text-primary); margin-bottom:16px; }
.lyrics-box { background: rgba(255,255,255,0.03); border-radius:12px; padding:20px; height:70%; overflow-y:auto; color:var(--text-secondary); font-size:16px; line-height:1.6; flex:1 1 auto; max-height: calc(100vh - 200px); }

/* Scrollbars */
*::-webkit-scrollbar { width:10px; height:10px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb { background: var(--scroll-thumb); border-radius:8px; border:2px solid transparent; background-clip: padding-box; }
*::-webkit-scrollbar-thumb:hover { background: var(--scroll-thumb-hover); }
* { scrollbar-width: thin; scrollbar-color: var(--scroll-thumb) transparent; }

/* ------------------ MINI PLAYER & MOBILE LOGIC ------------------ */

/* Default: Hidden on Desktop */
.mini-player, .mobile-only-header { display: none; }

@media (max-width: 768px) {
  .app-shell { flex-direction: column; height: 100vh; overflow: hidden; }

  /* === STATE 1: LIBRARY VIEW === */
  .library:not(.collapsed) {
    width: 100% !important; max-width: 100% !important; height: 100%;
    border-radius: 0; margin: 0; padding-bottom: 80px; z-index: 10;
  }

  /* Hide Main Player when Library is Open */
  .player-area.mobile-hidden { display: none; }

  /* Show Mini Player when Library is Open */
  .mini-player {
    display: flex; position: fixed; bottom: 12px; left: 12px; right: 12px;
    height: 64px; background: rgba(20, 20, 30, 0.95); backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px;
    align-items: center; padding: 0 12px; z-index: 100;
    box-shadow: 0 8px 32px rgba(0,0,0,0.8); cursor: pointer;
  }
  .mini-cover { width: 44px; height: 44px; border-radius: 6px; object-fit: cover; }
  .mini-title { font-size: 14px; font-weight: 700; color: white; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .mini-artist { font-size: 12px; color: #aaa; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  
  .mini-progress { position: absolute; bottom: 0; left: 12px; right: 12px; height: 2px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden; }
  .mini-progress-fill { height: 100%; background: var(--neon); }

  /* === STATE 2: PLAYER VIEW === */
  .library.collapsed { display: none; }

  .player-area {
    display: block; width: 100%; height: 100%; padding: 20px;
    overflow-y: auto; background: var(--bg-primary); z-index: 20;
  }

  .mobile-only-header { display: flex; justify-content: flex-start; padding-bottom: 20px; }
  .content-split { flex-direction: column; padding: 0; gap: 20px; }
  .glow-container { width: 70vw; height: 70vw; max-width: 300px; max-height: 300px; }
  .lyrics-right { height: auto; min-height: 300px; }
  
  /* Fix controls sizing on mobile */
  .controls { justify-content: space-evenly; flex-wrap: wrap; }
}
