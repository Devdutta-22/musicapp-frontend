/* src/DreamyGalaxy.css - FINAL POLISHED VERSION */

:root {
  /* ðŸŽ¨ Palette: Balanced Space Colors */
  --bg-deep: #0f0c29;
  --cloud-pink: #d86dfc;
  --cloud-blue: #5eb3fd;
  
  /* ðŸ”® STANDARD GLASS */
  --glass-bg: rgba(30, 20, 60, 0.6); 
  --glass-border: rgba(180, 140, 255, 0.25);
  --glass-blur: blur(24px); 
}

/* 1. THE ATMOSPHERE BACKGROUND */
body {
  background-color: var(--bg-deep);
  background-image: 
    radial-gradient(circle at 85% 10%, rgba(216, 109, 252, 0.35) 0%, transparent 50%),
    radial-gradient(circle at 15% 25%, rgba(94, 179, 253, 0.3) 0%, transparent 45%),
    linear-gradient(180deg, #1a0b2e 0%, #050414 100%);
  
  background-attachment: fixed;
  color: white;
  min-height: 100vh;
  position: relative;
}

/* 2. STARS - LAYER 1 (SLOWED DOWN: 12s) */
body::before {
  content: " ";
  position: fixed;
  top: 0; left: 0; width: 2px; height: 2px;
  background: transparent;
  z-index: -1;
  box-shadow: 
    10vw 10vh #fff, 20vw 80vh #fff, 35vw 40vh #fff, 
    50vw 10vh #fff, 60vw 90vh #fff, 80vw 20vh #fff,
    90vw 50vh #fff, 15vw 60vh 2px #d86dfc,
    40vw 30vh 1px #fff, 70vw 70vh 1px #fff,
    25vw 25vh 2px #5eb3fd, 85vw 85vh 1px #fff,
    5vw 5vh #fff, 95vw 95vh #fff, 45vw 15vh #fff,
    22vw 45vh 1px #fff, 78vw 35vh #fff, 12vw 90vh #fff,
    65vw 65vh 1px #fff, 33vw 12vh #d86dfc, 55vw 55vh #5eb3fd;
  opacity: 0.6; 
  /* SLOWED DOWN ANIMATION */
  animation: twinkle 12s infinite alternate ease-in-out; 
}

/* 2b. STARS - LAYER 2 (SLOWED DOWN: 8s) */
body::after {
  content: " ";
  position: fixed;
  top: 0; left: 0; width: 1px; height: 1px;
  background: transparent;
  z-index: -1;
  box-shadow: 
    2vw 2vh #fff, 8vw 15vh #fff, 14vw 4vh #fff, 25vw 8vh #fff,
    30vw 22vh #fff, 38vw 5vh #fff, 44vw 18vh #fff, 52vw 9vh #fff,
    60vw 3vh #fff, 68vw 19vh #fff, 75vw 6vh #fff, 82vw 24vh #fff,
    90vw 2vh #fff, 96vw 12vh #fff, 4vw 35vh #fff, 12vw 45vh #fff,
    18vw 32vh #fff, 26vw 48vh #fff, 34vw 38vh #fff, 42vw 52vh #fff,
    50vw 40vh #fff, 58vw 46vh #fff, 64vw 35vh #fff, 72vw 55vh #fff,
    80vw 42vh #fff, 88vw 50vh #fff, 3vw 75vh #fff, 10vw 92vh #fff,
    16vw 82vh #fff, 24vw 68vh #fff, 32vw 88vh #fff, 40vw 72vh #fff,
    48vw 95vh #fff, 56vw 80vh #fff, 62vw 90vh #fff, 70vw 78vh #fff,
    78vw 96vh #fff, 86vw 84vh #fff, 94vw 70vh #fff, 98vw 98vh #fff;
  opacity: 0.4;
  /* SLOWED DOWN ANIMATION */
  animation: twinkle 8s infinite alternate-reverse ease-in-out; 
}

@keyframes twinkle {
  0% { opacity: 0.3; transform: scale(0.8); }
  100% { opacity: 0.9; transform: scale(1.1); }
}

/* ðŸŒ  3. SHOOTING STARS - OPTIMIZED (Less Frequent, More Spread) */

/* Star 1: Top Left to Bottom Right */
.glass-shell::before {
  content: "";
  position: absolute;
  top: 0;
  left: 20%; /* Starts more to the left */
  width: 4px;
  height: 4px;
  background: linear-gradient(-45deg, #5eb3fd, rgba(0, 0, 255, 0));
  border-radius: 999px;
  filter: drop-shadow(0 0 6px #69c0ff);
  /* Duration 15s (Very slow cycle), Delay 2s */
  animation: tail 6s ease-in-out infinite 2s, shooting 6s ease-in-out infinite 2s;
  opacity: 0; 
  z-index: -1;
}

/* Star 2: Top Right (Purple) */
.glass-shell::after {
  content: "";
  position: absolute;
  top: 10%;
  left: 80%;
  width: 3px;
  height: 3px;
  background: linear-gradient(-45deg, #d86dfc, rgba(0, 0, 255, 0));
  border-radius: 999px;
  filter: drop-shadow(0 0 6px #d86dfc);
  /* Duration 23s (Prime number avoids syncing), Delay 8s */
  animation: tail 9s ease-in-out infinite 3s, shooting 9s ease-in-out infinite 3s;
  opacity: 0;
  z-index: -1;
}

/* Star 3: NEW - attached to Body to cover different area (Middle Left) */
body::before {
  /* Note: This inherits the twinkling stars box-shadow from previous section. 
     We are adding the shooting star properties to it effectively via animation 
     hack or we can just add a specific div in React. 
     
     Actually, pure CSS on existing elements is limited. 
     Let's stick to modifying the Animation Keyframes to be "Longer" 
     so they spend 90% of the time invisible. 
  */
}

/* Updated Keyframes for "Long Wait, Fast Shoot" */
@keyframes tail {
  0% { width: 0; }
  5% { width: 100px; } /* Only visible for first 5% of time */
  10% { width: 0; }
  100% { width: 0; }   /* Invisible for the rest 90% */
}

@keyframes shooting {
  0% { transform: translateX(0) translateY(0) rotate(45deg); opacity: 1; }
  10% { transform: translateX(400px) translateY(400px) rotate(45deg); opacity: 0; }
  100% { transform: translateX(0) translateY(0) rotate(45deg); opacity: 0; } /* Reset */
}

/* 4. GLASS UI COMPONENTS */
.glass-card, .glass-nav, .glass-modal, .upload-card {
  background: linear-gradient(145deg, rgba(60, 30, 90, 0.55) 0%, rgba(20, 10, 40, 0.75) 100%) !important;
  backdrop-filter: var(--glass-blur) !important;
  -webkit-backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: 0 8px 32px 0 rgba(10, 5, 20, 0.5) !important;
}

/* MINI PLAYER */
.glass-dock {
  background: linear-gradient(90deg, rgba(15, 12, 41, 0.8), rgba(48, 43, 99, 0.75)) !important;
  backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  border-top: 1px solid rgba(94, 179, 253, 0.3) !important; 
  box-shadow: 0 -5px 20px rgba(0,0,0,0.5) !important;
}

.dock-progress-fill { 
  background: var(--cloud-blue) !important;
  box-shadow: 0 0 10px var(--cloud-blue) !important;
}

/* SEARCH INPUT */
.glass-input, .upload-input, .file-input, select {
  background: rgba(20, 10, 40, 0.6) !important;
  border: 1px solid rgba(140, 100, 255, 0.3) !important;
  color: white !important;
  transition: all 0.3s ease;
}

.glass-input:focus {
  background: rgba(10, 5, 20, 0.8) !important;
  border-color: var(--cloud-blue) !important;
  box-shadow: 0 0 20px rgba(94, 179, 253, 0.4), inset 0 0 10px rgba(94, 179, 253, 0.1) !important;
}

/* TEXT & ACCENTS */
.row-title, .song-title, h1, h2, h3 {
  color: #fff;
  text-shadow: 0 0 15px rgba(216, 109, 252, 0.4);
}
.row-artist, .song-artist { color: #d0c0ff !important; }
.active-dot::after { background: var(--cloud-pink) !important; }

/* Nav Icons */
.glass-nav button.active {
  color: white !important;
  text-shadow: 0 0 10px var(--cloud-pink);
}
.glass-nav button.active svg {
  stroke: #fff;
  filter: drop-shadow(0 0 8px var(--cloud-pink));
}

/* SEEK SLIDER (COMET) */
.seek-slider {
  -webkit-appearance: none; width: 100%; height: 6px; 
  background: rgba(255, 255, 255, 0.1); 
  border-radius: 10px; outline: none; cursor: pointer;
  position: relative; overflow: visible; 
  background-image: linear-gradient(90deg, var(--cloud-blue), var(--cloud-pink));
  background-repeat: no-repeat; background-size: 0% 100%; 
  transition: height 0.2s ease;
}
.seek-slider:hover { height: 8px; }

.seek-slider::-webkit-slider-thumb {
  -webkit-appearance: none; height: 20px; width: 20px;
  margin-top: -7px; background: #ffffff;
  border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 0 5px 1px var(--cloud-blue), 0 0 12px 3px var(--cloud-pink), 0 0 20px 5px rgba(216, 109, 252, 0.3); 
  cursor: grab; transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.2s ease;
  transform-origin: center;
}

.seek-slider:hover::-webkit-slider-thumb, .seek-slider:active::-webkit-slider-thumb {
  cursor: grabbing; background: #fff; transform: scale(1.3);
  box-shadow: 0 0 15px 4px var(--cloud-blue), 0 0 30px 8px var(--cloud-pink), 0 0 50px 15px rgba(94, 179, 253, 0.6); 
}
.seek-slider::-moz-range-thumb {
  height: 20px; width: 20px; border: none; border-radius: 50%; background: #fff;
  box-shadow: 0 0 12px 3px var(--cloud-pink); cursor: pointer; transition: all 0.2s ease;
}
.seek-slider:active::-moz-range-thumb {
  transform: scale(1.3); box-shadow: 0 0 30px 8px var(--cloud-pink);
}
/* --- FULL SCREEN LYRICS SPACE OVERLAY --- */
.lyrics-expanded-overlay {
  position: fixed;
  top: 0; left: 0; 
  width: 100vw; height: 100vh;
  z-index: 2000; /* High enough to cover everything */
  
  /* ðŸŒŒ 1. THE BACKGROUND (Same as Body) */
  background-color: var(--bg-deep);
  background-image: 
    radial-gradient(circle at 85% 10%, rgba(216, 109, 252, 0.35) 0%, transparent 50%),
    radial-gradient(circle at 15% 25%, rgba(94, 179, 253, 0.3) 0%, transparent 45%),
    linear-gradient(180deg, #1a0b2e 0%, #050414 100%);
  
  /* Layout */
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 60px 20px;
  overflow-y: auto; 
  animation: zoomInSpace 0.5s cubic-bezier(0.22, 1, 0.36, 1);
}

/* âœ¨ 2. THE STARS (Re-created on this layer) */
.lyrics-expanded-overlay::before {
  content: " ";
  position: absolute;
  top: 0; left: 0; width: 2px; height: 2px;
  background: transparent;
  z-index: -1;
  /* Exact star pattern from your main theme */
  box-shadow: 
    10vw 10vh #fff, 20vw 80vh #fff, 35vw 40vh #fff, 
    50vw 10vh #fff, 60vw 90vh #fff, 80vw 20vh #fff,
    90vw 50vh #fff, 15vw 60vh 2px #d86dfc,
    40vw 30vh 1px #fff, 70vw 70vh 1px #fff,
    25vw 25vh 2px #5eb3fd, 85vw 85vh 1px #fff,
    5vw 5vh #fff, 95vw 95vh #fff, 45vw 15vh #fff,
    22vw 45vh 1px #fff, 78vw 35vh #fff, 12vw 90vh #fff,
    65vw 65vh 1px #fff, 33vw 12vh #d86dfc, 55vw 55vh #5eb3fd;
  animation: twinkle 8s infinite alternate ease-in-out;
}

/* ðŸŒ  3. THE COMET (One special comet for lyrics view) */
.lyrics-expanded-overlay::after {
  content: "";
  position: absolute;
  top: 15%; left: 0;
  width: 4px; height: 4px;
  background: linear-gradient(-45deg, #5eb3fd, rgba(0, 0, 255, 0));
  border-radius: 999px;
  filter: drop-shadow(0 0 6px #69c0ff);
  animation: tail 7s ease-in-out infinite, shooting 7s ease-in-out infinite;
  opacity: 0; 
  z-index: -1;
}

/* HEADER & CONTENT STYLING */
.lyrics-expanded-header {
  position: relative;
  width: 100%;
  max-width: 900px;
  margin-bottom: 50px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255,255,255,0.15);
  display: flex;
  justify-content: center;
}

.close-expand {
  position: absolute;
  right: 0; top: 0;
  background: rgba(255, 255, 255, 0.1) !important;
  border-radius: 50%;
  padding: 12px;
  transition: all 0.3s ease;
}
.close-expand:hover {
  background: rgba(255, 255, 255, 0.25) !important;
  transform: rotate(90deg);
}

.lyrics-expanded-content {
  width: 100%;
  max-width: 900px;
  text-align: center;
  font-size: 1.8rem; /* Large, readable text */
  line-height: 2.4;
  font-weight: 600;
  color: #fff;
  white-space: pre-wrap; 
  padding-bottom: 100px; 
  text-shadow: 0 4px 20px rgba(0,0,0,0.8);
}

@keyframes zoomInSpace {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
/* --- FULL SCREEN TRANSPARENT LYRICS --- */

/* 1. The Container: Covers screen but is transparent */
.lyrics-overlay-container {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  z-index: 2000; /* Above the Player */
  
  /* Semi-transparent dark wash to make text readable over stars */
  background: rgba(10, 5, 20, 0.7); 
  backdrop-filter: blur(8px); /* Optional: Slight blur to soften the stars behind text */
  
  display: flex;
  justify-content: center;
  overflow-y: auto;
  animation: fadeIn 0.5s ease;
}

/* 2. Content Wrapper */
.lyrics-content-wrapper {
  width: 100%;
  max-width: 900px;
  padding: 80px 20px;
  color: white;
}

/* 3. Close Button */
.close-lyrics-btn {
  position: fixed;
  top: 30px;
  right: 30px;
  z-index: 2001;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  padding: 10px;
  cursor: pointer;
  transition: transform 0.2s;
}
.close-lyrics-btn:hover {
  transform: scale(1.1);
  background: rgba(255,255,255,0.2);
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
